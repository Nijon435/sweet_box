<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Reports & Exports</title>
    <link rel="icon" href="img/sweetbox_icon.ico" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="design.css" />
    <link rel="stylesheet" href="responsive.css" />
    <link rel="stylesheet" href="css/modal.css" />
    <link rel="stylesheet" href="css/report.css" />
  </head>

  <body data-page="report">
    <div class="layout">
      <aside class="sidebar">
        <div class="brand">
          <img src="img/sweetbox_logo.png" alt="Sweet Box" class="brand-logo" />
        </div>
        <nav class="nav">
          <a href="index.html" data-section="dashboard">Dashboard</a>
          <a href="attendance.html" data-section="attendance">Attendance</a>
          <a
            href="employees.html"
            data-section="employees"
            data-role="admin,manager"
            data-hide-when-denied="true"
            >Users</a
          >
          <a
            href="inventory.html"
            data-section="inventory"
            data-role="admin,manager,kitchen_staff"
            data-hide-when-denied="true"
            >Inventory</a
          >
          <a href="orders.html" data-section="orders">Orders</a>
          <a
            href="analytics.html"
            data-section="analytics"
            data-role="admin,manager"
            data-hide-when-denied="true"
            >Analytics</a
          >
          <a
            href="report.html"
            data-section="report"
            data-role="admin,manager"
            data-hide-when-denied="true"
            >Reports</a
          >
          <a
            href="archive.html"
            data-section="archive"
            data-role="admin"
            data-hide-when-denied="true"
            >Archive</a
          >
        </nav>
        <div class="user-session">
          <div class="user-session-info">
            <div class="user-session-row">
              <strong id="session-name" class="user-session-name">Guest</strong>
              <button
                id="edit-profile-btn"
                type="button"
                class="user-session-edit-btn"
                title="Edit Profile"
              >
                âœï¸
              </button>
            </div>
            <small id="session-role" class="user-session-role"
              >Sign in required</small
            >
          </div>
          <button class="btn btn-outline" id="logout-btn" type="button">
            Sign out
          </button>
        </div>
      </aside>

      <main class="main-content">
        <header class="page-header">
          <div>
            <span class="pill">ğŸ“Š Business Intelligence</span>
            <h1>Reports & Exports</h1>
            <p style="color: #6b7280; margin-top: 0.5rem;">Generate comprehensive business reports and export data for analysis</p>
          </div>
          <div class="actions">
            <button class="btn btn-secondary" id="refresh-data">ğŸ”„ Refresh Data</button>
          </div>
        </header>

        <!-- Operations Reports -->
        <section style="margin-bottom: 2rem;">
          <h2 style="font-size: 1.25rem; font-weight: 600; margin-bottom: 1rem; color: #111827;">ğŸ“¦ Operations & Inventory</h2>
          <div class="grid grid-3">
            <article class="report-card">
              <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 0.75rem;">
                <span style="font-size: 2rem;">ğŸ“‹</span>
                <h3 style="margin: 0;">Inventory Ledger</h3>
              </div>
              <p>Complete inventory list with stock levels, categories, costs, and reorder points.</p>
              <button class="btn btn-primary" data-report="inventory">
                ğŸ“¥ Export Excel
              </button>
            </article>

            <article class="report-card">
              <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 0.75rem;">
                <span style="font-size: 2rem;">ğŸ“Š</span>
                <h3 style="margin: 0;">Inventory Usage Report</h3>
              </div>
              <p>Track ingredient consumption, waste, and usage patterns with detailed logs.</p>
              <button class="btn btn-primary" data-report="inventory-usage">
                ğŸ“¥ Export Excel
              </button>
            </article>

            <article class="report-card">
              <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 0.75rem;">
                <span style="font-size: 2rem;">âš ï¸</span>
                <h3 style="margin: 0;">Low Stock Alert</h3>
              </div>
              <p>Items below reorder point requiring immediate restocking attention.</p>
              <button class="btn btn-primary" data-report="low-stock">
                ğŸ“¥ Export Excel
              </button>
            </article>
          </div>
        </section>

        <!-- Sales & Financial Reports -->
        <section style="margin-bottom: 2rem;">
          <h2 style="font-size: 1.25rem; font-weight: 600; margin-bottom: 1rem; color: #111827;">ğŸ’° Sales & Financial</h2>
          <div class="grid grid-3">
            <article class="report-card">
              <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 0.75rem;">
                <span style="font-size: 2rem;">ğŸ’µ</span>
                <h3 style="margin: 0;">Sales Summary</h3>
              </div>
              <p>Daily and periodic sales totals with order breakdowns and revenue trends.</p>
              <button class="btn btn-primary" data-report="sales">
                ğŸ“¥ Export Excel
              </button>
            </article>

            <article class="report-card">
              <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 0.75rem;">
                <span style="font-size: 2rem;">ğŸ›’</span>
                <h3 style="margin: 0;">Order History</h3>
              </div>
              <p>Complete order records with customer details, items, and payment information.</p>
              <button class="btn btn-primary" data-report="orders">
                ğŸ“¥ Export Excel
              </button>
            </article>

            <article class="report-card">
              <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 0.75rem;">
                <span style="font-size: 2rem;">ğŸ“ˆ</span>
                <h3 style="margin: 0;">Financial Snapshot</h3>
              </div>
              <p>Key financial metrics, revenue summary, and profitability indicators.</p>
              <button class="btn btn-primary" data-report="financial">
                ğŸ“¥ Export Excel
              </button>
            </article>
          </div>
        </section>

        <!-- Staff & Attendance Reports -->
        <section style="margin-bottom: 2rem;">
          <h2 style="font-size: 1.25rem; font-weight: 600; margin-bottom: 1rem; color: #111827;">ğŸ‘¥ Staff & Attendance</h2>
          <div class="grid grid-3">
            <article class="report-card">
              <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 0.75rem;">
                <span style="font-size: 2rem;">ğŸ‘¤</span>
                <h3 style="margin: 0;">Employee Directory</h3>
              </div>
              <p>Complete staff roster with roles, contact information, and employment details.</p>
              <button class="btn btn-primary" data-report="employees">
                ğŸ“¥ Export Excel
              </button>
            </article>

            <article class="report-card">
              <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 0.75rem;">
                <span style="font-size: 2rem;">â°</span>
                <h3 style="margin: 0;">Attendance Log</h3>
              </div>
              <p>Daily clock-in/out records with timestamps, shifts, and attendance notes.</p>
              <button class="btn btn-primary" data-report="attendance">
                ğŸ“¥ Export Excel
              </button>
            </article>

            <article class="report-card">
              <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 0.75rem;">
                <span style="font-size: 2rem;">ğŸ“…</span>
                <h3 style="margin: 0;">Staff Attendance Report</h3>
              </div>
              <p>Daily time record for individual staff (monthly DTR format).</p>
              
              <div style="margin-top: 1rem;">
                <label style="display: block; font-size: 0.875rem; font-weight: 500; margin-bottom: 0.5rem; color: #374151;">Select Employee</label>
                <select id="staff-select" style="width: 100%; padding: 0.625rem; border: 1px solid #d1d5db; border-radius: 6px; font-size: 0.875rem;">
                  <option value="">Choose staff member...</option>
                </select>
              </div>

              <div style="margin-top: 0.75rem;">
                <label style="display: block; font-size: 0.875rem; font-weight: 500; margin-bottom: 0.5rem; color: #374151;">Select Month</label>
                <input type="month" id="attendance-month" style="width: 100%; padding: 0.625rem; border: 1px solid #d1d5db; border-radius: 6px; font-size: 0.875rem;" />
              </div>

              <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.5rem; margin-top: 1rem;">
                <button class="btn btn-primary" data-report="staff-attendance-excel">
                  ğŸ“¥ Excel
                </button>
                <button class="btn btn-secondary" data-report="staff-attendance-word">
                  ğŸ“„ Word
                </button>
              </div>
            </article>
          </div>
        </section>

        <div style="background: #f9fafb; border: 1px solid #e5e7eb; border-radius: 8px; padding: 1rem; margin-top: 2rem;">
          <p style="margin: 0; color: #6b7280; font-size: 0.875rem;">
            <strong>ğŸ’¡ Note:</strong> All reports are generated locally in your browser. Excel files use SheetJS (XLSX format), Word files use HTML-based .doc format. No data is sent to external servers.
          </p>
        </div>
      </main>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.2/dist/chart.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
    <script src="js/config.js"></script>
    <script src="js/common.js"></script>
    <script src="js/report.js"></script>
  </body>
</html>
